# הצעות לשירות "תפריט בלבד" (Menu-Only Service)

## 🎯 רעיון כללי

שירות נפרד שמאפשר רק ניהול ותצוגת תפריטים דיגיטליים, ללא הזמנות, שולחנות, או AI.

---

## 📋 אפשרות 1: Plan Type ב-Subscription (מומלץ)

### איך זה עובד:

- הוספת שדה `planType` ל-`subscription` JSONB:
  ```json
  {
    "status": "active",
    "planType": "menu_only", // או "full"
    "tablesAllowed": 0, // לא רלוונטי ל-menu_only
    "nextBillingDate": "2024-02-01"
  }
  ```

### Features:

- ✅ ניהול תפריט מלא (CRUD)
- ✅ תצוגת תפריט דיגיטלי (QR או קישור ישיר)
- ✅ תמיכה בשפות (עברית/אנגלית)
- ✅ תמונות, קטגוריות, מחירים
- ❌ אין הזמנות
- ❌ אין שולחנות
- ❌ אין AI chat
- ❌ אין integration למדפסת/POS

### תמחור:

- **חודשי**: ₪99-149/חודש (קבוע, לא לפי שולחנות)
- **שנתי**: ₪999-1299/שנה (חיסכון של 2 חודשים)

### יתרונות:

- ✅ קל ליישום (רק feature flags)
- ✅ אותו dashboard, רק חלק מהתכונות מוסתרות
- ✅ קל לשדרג ל-"full" בעתיד

### חסרונות:

- ⚠️ צריך להוסיף בדיקות בכל מקום (orders, tables, etc.)

---

## 📋 אפשרות 2: Feature Flags נפרדים

### איך זה עובד:

- הוספת שדה `features` ל-`subscription`:
  ```json
  {
    "status": "active",
    "features": {
      "menu": true,
      "orders": false,
      "tables": false,
      "ai": false,
      "printer": false
    },
    "tablesAllowed": 0
  }
  ```

### יתרונות:

- ✅ גמישות מלאה - אפשר לשלב תכונות
- ✅ קל להוסיף תכונות חדשות בעתיד
- ✅ אפשר למכור "תפריט + AI" או "תפריט + הזמנות" וכו'

### חסרונות:

- ⚠️ יותר מורכב לניהול
- ⚠️ צריך לבדוק features בכל מקום

---

## 📋 אפשרות 3: Product נפרד ב-Stripe

### איך זה עובד:

- יצירת Product חדש ב-Stripe: "Menu Only"
- מחיר קבוע (לא לפי שולחנות)
- אותו webhook, אבל עם metadata שונה

### יתרונות:

- ✅ הפרדה ברורה ב-Stripe
- ✅ קל לניהול תמחור
- ✅ דוחות נפרדים

### חסרונות:

- ⚠️ צריך לטפל ב-2 products ב-webhook
- ⚠️ יותר מורכב

---

## 🎨 UI/UX - איך זה ייראה

### Dashboard (Menu-Only):

```
┌─────────────────────────────────────┐
│  לוח בקרה - תפריט דיגיטלי          │
├─────────────────────────────────────┤
│  [תפריט] [הגדרות] [תצוגה מקדימה]   │
├─────────────────────────────────────┤
│  📋 ניהול תפריט                      │
│  - הוסף פריט                         │
│  - ערוך פריט                        │
│  - מחק פריט                         │
│                                     │
│  🔗 קישור לתפריט                    │
│  https://ai-waiter.com/menu/...     │
│  [העתק קישור] [QR Code]            │
│                                     │
│  ⚙️ הגדרות תפריט                    │
│  - עיצוב (elegant/compact/bold)    │
│  - לוגו                             │
│  - שפות (עברית/אנגלית)             │
└─────────────────────────────────────┘
```

### מה מוסתר:

- ❌ טאב "שולחנות"
- ❌ טאב "הזמנות"
- ❌ טאב "מדפסת"
- ❌ טאב "POS"
- ❌ כל הקשור ל-AI chat

---

## 💰 תמחור מוצע

### Menu-Only Plan:

- **₪99/חודש** - בסיסי
  - עד 50 פריטים
  - תמיכה בעברית/אנגלית
  - QR code + קישור ישיר
- **₪149/חודש** - מתקדם
  - פריטים ללא הגבלה
  - תמיכה בעברית/אנגלית
  - QR code + קישור ישיר
  - סטטיסטיקות צפיות (views)

### Full Plan (קיים):

- **₪50/שולחן/חודש** - לפי שולחנות
  - כל התכונות
  - הזמנות, AI, מדפסת, POS

---

## 🔧 יישום טכני

### 1. Database Schema:

```sql
-- הוספת planType ל-subscription
-- כבר קיים כ-JSONB, רק צריך להוסיף את השדה
```

### 2. API Routes:

```typescript
// app/api/menu/info/route.ts
// בדיקה: אם planType === 'menu_only', לא לבדוק tablesAllowed
// אבל לבדוק subscription status

// app/api/orders/route.ts
// אם planType === 'menu_only', להחזיר 403 עם הודעה:
// "הזמנות זמינות רק בחבילה המלאה"
```

### 3. Dashboard:

```typescript
// app/dashboard/page.tsx
// בדיקה: אם planType === 'menu_only', להסתיר טאבים:
// - tables
// - orders
// - printer
// - pos

// להוסיף טאב "תצוגה מקדימה" במקום
```

### 4. Customer Menu:

```typescript
// app/menu/[businessId]/[tableId]/page.tsx
// אם planType === 'menu_only':
// - להציג תפריט בלבד
// - להסתיר כפתור "הוסף לעגלה"
// - להסתיר AI chat
// - להציג הודעה: "תפריט דיגיטלי - להזמנות צרו קשר עם המסעדה"
```

---

## 📊 מטריקות להצלחה

### מה למדוד:

- מספר לקוחות Menu-Only
- Conversion rate מ-Menu-Only ל-Full
- מספר צפיות בתפריטים
- זמן ממוצע בתפריט

### Upsell Opportunities:

- "רוצה להזמין ישירות? שדרג לחבילה המלאה"
- "רוצה AI שיעזור ללקוחות? שדרג לחבילה המלאה"
- "רוצה ניהול שולחנות? שדרג לחבילה המלאה"

---

## 🚀 שלבי יישום

### שלב 1: Database & Types

- [ ] הוספת `planType` ל-Subscription interface
- [ ] עדכון default subscription ב-register

### שלב 2: API Routes

- [ ] עדכון `/api/menu/info` - תמיכה ב-menu_only
- [ ] עדכון `/api/orders` - חסימת menu_only
- [ ] עדכון `/api/billing/create-checkout-session` - תמיכה ב-2 products

### שלב 3: Dashboard

- [ ] הסתרת טאבים ל-menu_only
- [ ] הוספת טאב "תצוגה מקדימה"
- [ ] הוספת כפתור "שדרג לחבילה המלאה"

### שלב 4: Customer Menu

- [ ] הסתרת הזמנות ל-menu_only
- [ ] הוספת הודעה ברורה
- [ ] אפשרות ליצור קשר

### שלב 5: Stripe Integration

- [ ] יצירת Product חדש ב-Stripe
- [ ] עדכון webhook לטיפול ב-2 products
- [ ] עדכון checkout session

---

## 💡 רעיונות נוספים

### 1. Menu-Only עם Analytics:

- כמה אנשים צפו בתפריט
- איזה פריטים הכי פופולריים
- זמן ממוצע בתפריט

### 2. Menu-Only עם Contact Form:

- כפתור "צור קשר" בכל פריט
- שליחת הודעה ישירה למסעדה

### 3. Menu-Only עם Social Sharing:

- שתף תפריט בפייסבוק/וואטסאפ
- קישור מיוחד לכל פריט

### 4. Menu-Only עם Print Version:

- אפשרות להדפיס תפריט PDF
- עיצוב מותאם להדפסה

---

## ❓ שאלות להחלטה

1. **תמחור**: קבוע או לפי פריטים?
2. **Features**: רק תפריט או גם analytics?
3. **Upsell**: איך לעודד שדרוג ל-Full?
4. **Trial**: גם Menu-Only מקבל trial?
5. **Support**: אותה תמיכה או פחות?

---

## 🎯 המלצה סופית

**אפשרות 1 (Plan Type)** היא הכי פשוטה ויעילה:

- ✅ קל ליישום
- ✅ גמיש לשדרוגים עתידיים
- ✅ אותו infrastructure
- ✅ קל לתחזוקה

**תמחור מוצע:**

- Menu-Only: ₪99/חודש (או ₪999/שנה)
- Full: ₪50/שולחן/חודש (קיים)

**Features:**

- Menu-Only: תפריט + QR + קישור + תמיכה בשפות
- Full: הכל (קיים)



